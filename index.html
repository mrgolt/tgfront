<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="app.js"></script>
    <title>My Telegram Web App</title>
    <style>
        :root {
            --header-color: var(--tg-header-color);
            --background-color: var(--tg-background-color);
        }

        body {
            background-color: var(--background-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 0;
        }

        .header {
            background-color: var(--header-color);
        }

        #infoButton {
            font-size: 2em;
            padding: 20px;
        }
    </style>
</head>
<body>
    <iframe is="x-frame-bypass" src="https://oauth.telegram.org/auth?bot_id=5916132503&origin=https%3A%2F%2Fmrgolt.github.io&embed=0&request_access=write&return_to=https%3A%2F%2Fmrgolt.github.io%2Ftgfront%2F" width="100%" height="500px"></iframe>
    <div>
    <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="consulate_appointment_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
    </div>
        <script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
  }
</script>
    <button id="infoButton">Show User Info</button>

    <script>
        // When the Telegram WebApp script is loaded, the window.Telegram object will be available
        window.onload = function() {
            var infoButton = document.getElementById("infoButton");
            
            infoButton.onclick = function() {
                // Here we are assuming that initDataUnsafe is an object containing user data
                // Validate and use initData instead in production
                var userData = window.Telegram.WebApp.initDataUnsafe;
                
                // Show an alert with the user data
                alert(JSON.stringify(userData));
            };
        };
        // Получаем поле ввода
        var inputField = document.getElementById('inputField');

        // Добавляем обработчик события ввода
        inputField.addEventListener('input', function(event) {
          // Получаем текущее значение поля ввода
          var inputValue = event.target.value;

          // Выводим значение в консоль
          console.log(inputValue);
        });

    </script>
</body>
</html>
